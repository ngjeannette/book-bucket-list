(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{176:function(e,a,t){e.exports=t.p+"static/media/bookcover.cbdaca4a.jpg"},180:function(e,a,t){e.exports=t(366)},185:function(e,a,t){},350:function(e,a){},352:function(e,a){},366:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(8),c=t.n(l),i=(t(185),t(25)),s=(t(48),t(127)),o=t(373),m=(t(63),t(378)),u=t(371),p=t(375),d=t(121),E=t.n(d);E.a.initializeApp({apiKey:"AIzaSyC6tt__P8yElYppuEE-N7ha5OSqp3UJ-D4",authDomain:"books-e6a5b.firebaseapp.com",databaseURL:"https://books-e6a5b.firebaseio.com",projectId:"books-e6a5b",storageBucket:"books-e6a5b.appspot.com",messagingSenderId:"45951011207",appId:"1:45951011207:web:d2dc2374f7fe649d3fab22",measurementId:"G-1NMMRF7QKB"});var b=E.a,f={labelCol:{span:8},wrapperCol:{span:16}},g={wrapperCol:{offset:8,span:16}};var v=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),E=d[0],v=d[1],h=Object(n.useState)(!1),y=Object(i.a)(h,2),k=y[0],w=y[1],j=function(e,a){a?(c(!1),v(!1),w(!0)):(!function(e){b.database().ref("items").push(e)}(e),c(!0),v(!1),w(!1))},C=function(e){b.database().ref("items").on("value",(function(a){for(var t in a.val())if(a.val()[t].username===e.username)return void j(e,!0);j(e,!1)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register-section"},r.a.createElement("div",{className:"register"},r.a.createElement("h2",null,"Register Account"),r.a.createElement(u.a,Object.assign({},f,{name:"basic",initialValues:{remember:!0},onFinish:function(e){C(e)},onFinishFailed:function(e){c(!1),v(!0),w(!1)}}),r.a.createElement(u.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(o.a,{autoComplete:"username"})),r.a.createElement(u.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(o.a.Password,{autoComplete:"current-password"})),r.a.createElement(u.a.Item,g,r.a.createElement(s.a,{type:"primary",htmlType:"submit"},"Submit"))),l&&r.a.createElement(p.a,{message:"Created Account",type:"success"}),E&&r.a.createElement(p.a,{message:"Something's missing \ud83d\ude43",type:"warning"}),k&&r.a.createElement(p.a,{message:"Username's already taken \ud83d\ude43",type:"warning"}))))},h={labelCol:{span:8},wrapperCol:{span:16}},y={wrapperCol:{offset:8,span:16}};var k=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],c=t[1],m=Object(n.useState)(!1),d=Object(i.a)(m,2),E=d[0],f=d[1],g=function(a,t){var n={};n[t]=a,e.updateLogin(n),c(!0),f(!1)},v=function(e){b.database().ref("items").on("value",(function(a){for(var t in a.val())if(a.val()[t].username===e.username&&a.val()[t].password===e.password)return void g(a.val()[t],t);c(!1),f(!0)}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register-section"},r.a.createElement("div",{className:"register"},r.a.createElement("h2",null,"Login Account"),r.a.createElement(u.a,Object.assign({},h,{name:"basic",initialValues:{remember:!0},onFinish:function(e){v(e)},onFinishFailed:function(e){c(!1),f(!0)}}),r.a.createElement(u.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(o.a,{autoComplete:"username"})),r.a.createElement(u.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(o.a.Password,{autoComplete:"current-password"})),r.a.createElement(u.a.Item,y,r.a.createElement(s.a,{type:"primary",htmlType:"submit"},"Submit"))),l&&r.a.createElement(p.a,{message:"Logged In",type:"success"}),E&&r.a.createElement(p.a,{message:"Incorrect Login\ud83d\ude43",type:"warning"}))))},w=t(374),j=t(372),C=t(57),O=t(370),N=t(376);var S=function(e){var a=Object(n.useState)([]),l=Object(i.a)(a,2),c=l[0],o=l[1];Object(n.useEffect)((function(){var a=e.genre,n=a.split(" ").join("+");if(a){var r="https://www.goodreads.com/search.xml?key=kPemw6gKMzdYeiIV0Hq7Q&q=".concat(n);fetch("https://cors-anywhere.herokuapp.com/"+r).then((function(e){return e.text()})).then((function(e){(0,t(335).parseString)(e,(function(e,a){var t=a.GoodreadsResponse.search[0].results[0].work;o(t)}))})).catch()}}),[e.genre]),Object(n.useEffect)((function(){}),[c]);var m=function(a,t){if(Object.keys(e.userData).length>0){var n=Object.keys(e.userData)[0],r=t.id;!function(e,a){w.a.success({message:"Added to ".concat(a),description:"Good pick!",placement:e})}("bottomRight",a),e.userData[n][a]||(e.userData[n][a]={}),e.userData[n][a][r]=t,b.database().ref("items/".concat(n,"/").concat(a,"/").concat(r)).set(t);var l={};b.database().ref("items").on("value",(function(e){for(var a in e.val())a===n&&(l[a]=e.val()[a])})),e.updateUserData(l)}else!function(e,a){w.a.warning({message:"Couldn't add to ".concat(a),description:"Please login or register an account to add onto a ".concat(a),placement:e})}("bottomRight",a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-section"},r.a.createElement("h1",null,e.genre),r.a.createElement("div",{className:"row1 search"},r.a.createElement("div",{className:"item-card"},c?c.map((function(e,a){var t=e.average_rating,n=e.best_book[0].author[0].name,l=e.best_book[0].title,c=e.best_book[0].id[0]._,i=e.best_book[0].image_url[0],o=e.original_publication_year[0]._,u={};return u.rating=t,u.title=l,u.image=i,u.year=o,u.id=c,u.author=n,r.a.createElement(j.a,{hoverable:!0,style:{width:300},key:a,cover:r.a.createElement("img",{alt:"example",src:i})},r.a.createElement(j.a.Meta,{title:l}),r.a.createElement(s.a,{type:"text",onClick:function(){m("wishlist",u)}},"+ WishList"),r.a.createElement(s.a,{type:"text",onClick:function(){m("havelist",u)}},"+ Have List"),r.a.createElement(j.a.Meta,{description:"by ".concat(n)}),r.a.createElement(j.a.Meta,{description:"".concat(t,"/5")}),o&&r.a.createElement(j.a.Meta,{description:"Published on ".concat(o)}))})):r.a.createElement("div",null,r.a.createElement(C.a,null),r.a.createElement("span",null,"Couldn't find any books with ",e.genre),r.a.createElement(N.a,null)))),r.a.createElement(O.a,null)))},x=t(377);var D=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-section"},r.a.createElement("h1",null,e.title),r.a.createElement("div",{className:"list"},e.userData&&Object.values(e.userData)[0]&&Object.values(e.userData)[0][e.title]&&Object.values(Object.values(e.userData)[0][e.title]).length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-item-header"},r.a.createElement("div",null,r.a.createElement("span",null,"Item"))),Object.entries(e.userData).map((function(a){var t=Object(i.a)(a,2),n=t[0],l=t[1];return Object.values(l[e.title]).map((function(a,t){return r.a.createElement("div",{className:"list-item-item",key:t},r.a.createElement("div",{className:"item-info"},r.a.createElement("div",null,r.a.createElement("img",{src:a.image,alt:a.title})),r.a.createElement("div",null,r.a.createElement("h3",{className:"list-title"},a.title," "),r.a.createElement("p",null,"by: ",a.author," "),r.a.createElement("p",null,"published on: ",a.year," "),r.a.createElement("p",null,"ratings: ",a.rating," / 5 "))),r.a.createElement("div",{className:"remove"},r.a.createElement(s.a,{type:"danger",icon:r.a.createElement(x.a,null),onClick:function(){var t,r;e.userData,t=n,r=a.id,b.database().ref("items/".concat(t,"/").concat(e.title,"/").concat(r)).remove()}},"Remove")))}))}))):r.a.createElement("div",{className:"empty-book-section"},r.a.createElement(C.a,null),r.a.createElement("span",null,"Your ",e.title," is empty"),r.a.createElement(N.a,null)))))},P=t(176),L=t.n(P);var F=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home-section"},r.a.createElement("div",{className:"homedescription"},r.a.createElement("p",null,"Sign up and login to save books for you wishlist and havelist."),r.a.createElement("p",null,"Search for books from GoodRead's, with over 2.6 billion book selections!"),r.a.createElement(s.a,{type:"primary",htmlType:"submit",className:"homedescriptionregister",onClick:function(){e.updateTab("register")}},"Register"),r.a.createElement(s.a,{type:"primary",htmlType:"submit",onClick:function(){e.updateTab("login")}},"Login")),r.a.createElement("div",{className:"bookimage"},r.a.createElement("img",{src:L.a,alt:"books",className:"bookimagecover"}))))};var I=function(){var e=Object(n.useState)("home"),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({}),u=Object(i.a)(c,2),p=u[0],d=u[1],E=Object(n.useState)(""),b=Object(i.a)(E,2),f=b[0],g=b[1],h=Object(n.useState)(""),y=Object(i.a)(h,2),w=y[0],j=y[1];return Object(n.useEffect)((function(){}),[p]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navBar"},r.a.createElement("div",{className:"navBar-header"},r.a.createElement("h1",{onClick:function(){l("home")}},"Project 3: Book Bucket List"),r.a.createElement("a",{href:"https://flaviocopes.com/sample-app-ideas/#a-book-database",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(m.a,null))),r.a.createElement("div",{className:"signup-login"},r.a.createElement(s.a,{type:"text",onClick:function(){l("register")}},"Register"),r.a.createElement(s.a,{type:"text",onClick:function(){l("login")}},"Login"),r.a.createElement(s.a,{type:"text",onClick:function(){l("wishlist"),j("wishlist")}},"WishList"),r.a.createElement(s.a,{type:"text",onClick:function(){l("wishlist"),j("havelist")}},"HaveList"))),r.a.createElement("div",{className:"genre-section"},r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Harry Potter")}},"Harry Potter"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Pride and Prejudice")}},"Pride and Prejudice"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("The Book Thief")}},"The Book Thief"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("1984")}},"1984"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Handmaid's Tale")}},"Handmaid's Tale"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Watership Down")}},"Watership Down"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Game of Thrones")}},"Game of Thrones"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Les Miserables")}},"Les Miserables"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Lord of the Flies")}},"Lord of the Flies"),r.a.createElement(s.a,{type:"text",onClick:function(){l("populartitle"),g("Hunger Games")}},"Hunger Games")),r.a.createElement("div",{className:"search-section"},r.a.createElement(o.a.Search,{placeholder:"search books",onSearch:function(e){l("populartitle"),g(e)},allowClear:!0})),r.a.createElement("div",{className:"content-section"},"register"===t&&r.a.createElement(v,null),"login"===t&&r.a.createElement(k,{updateLogin:function(e){d(e)}}),"populartitle"===t&&r.a.createElement(S,{genre:f,userData:p,updateUserData:function(e){d(e)}}),"wishlist"===t&&r.a.createElement(D,{userData:p,title:w}),"home"===t&&r.a.createElement(F,{updateTab:function(e){l(e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,a,t){}},[[180,1,2]]]);
//# sourceMappingURL=main.a7f7b175.chunk.js.map